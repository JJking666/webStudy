这是一个链接 [浏览器知识点](https://juejin.cn/post/6916157109906341902/)
<https://juejin.cn/post/6916157109906341902/>

# 浏览器安全
> XSS攻击
>
> 1.跨站脚本攻击，是一种代码注入攻击，攻击者通过在网站注入恶意脚本，使之在用户的浏览器上运行，从而盗取用户的信息如 cookie 等
> 2.XSS 的本质是因为网站没有对恶意代码进行过滤
> 3.攻击者可以通过这种攻击方式可以进行以下操作：
>> 获取页面的数据，如DOM、cookie、localStorage；
>> DOS攻击，发送合理请求，占用服务器资源，从而使用户无法访问服务器；
>> 破坏页面结构；
>> 流量劫持（将链接指向某网站）；

4.XSS 可以分为存储型、反射型和 DOM 型：
+ 存储型指的是恶意脚本会存储在目标服务器上，当浏览器请求数据时，脚本从服务器传回并执行。
+ 反射型指的是攻击者诱导用户访问一个带有恶意代码的 URL 后，服务器端接收数据后处理，然后把带有恶意代码的数据发送到浏览器端，浏览器端解析这段带有 XSS 代码的数据后当做脚本执行，最终完成 XSS 攻击。
+ DOM 型指的通过修改页面的 DOM 节点形成的 XSS。

## 强缓存和协商缓存
> 浏览器在第一次请求文件资源时，会把资源缓存在本地，同时缓存响应头

> 强缓存:首先检查缓存的响应头expires或者cache-control中的max-age是否过期，如果未过期，那么直接到缓存去获取资源。如果已过期，那么进行协商缓存。

> 协商缓存：直接拿着请求头的if-modified-since去和服务器的last-modified比较，若两者相同说明资源未修改过，那么去缓存获取资源返回304；若不相同，那么直接请求最新资源返回200，并更新last-modified
> last-modified缺点：只能精确到秒
> ETag:基于资源内容生成的标识字符串，为解决last-modified问题,用来指示url对象是否变化。拿着ETag与服务器生成的ETag进行比较，如果一致则说明未改变，那么去缓存获取资源返回304；若不相同，那么直接请求最新资源返回200。

## 使用CSP限制各类资源的加载，能预防XSS攻击
>CSP 指的是内容安全策略，它的本质是建立一个白名单，告诉浏览器哪些外部资源可以加载和执行。我们只需要配置规则，如何拦截由浏览器自己来实现。

>通常有两种方式来开启 CSP，一种是设置 HTTP 首部中的 Content-Security-Policy，一种是设置 meta 标签的方式